(function(e){function t(i){if(n[i])return n[i].exports;var a=n[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:i})},t.r=function(e){'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(e,'__esModule',{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&'object'==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,'default',{enumerable:!0,value:e}),2&n&&'string'!=typeof e)for(var a in e)t.d(i,a,function(t){return e[t]}.bind(null,a));return i},t.n=function(e){var n=e&&e.__esModule?function(){return e['default']}:function(){return e};return t.d(n,'a',n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p='',t(t.s=1)})([,function(e,t,n){n(2),n(3),n(4),n(5),n(6),n(8),n(13),n(10),n(11),n(9),n(7),n(14),n(12),n(15),e.exports=n(16)},function(){},function(e,t,n){'use strict';n.r(t),n.d(t,'gaData',function(){return s});var i=new Map([['gaClientId','clientId'],['gaPropId','trackingId'],['gaClickId','_gclid']]),a=function(e){if('undefined'!=typeof ga&&'getAll'in ga)return ga.getAll().filter(function(t){return t.get('trackingId').includes(e)})[0]},s=function(){var e=a('UA-118367394-'),t={};return i.forEach(function(n,i){var a='';e&&(a=e.get(n)||''),t[i]=a}),t}},function(e,t,n){'use strict';function i(e){'@babel/helpers - typeof';return i='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},i(e)}n.r(t),n.d(t,'triggerEvent',function(){return a}),n.d(t,'isEmpty',function(){return s});var a=function(e,t,n){n=n||{};var i=new CustomEvent(t,{bubbles:!0,detail:n});e.dispatchEvent(i)},s=function(e){return e===void 0||null===e||'object'===i(e)&&0===Object.keys(e).length||'string'==typeof e&&0===e.trim().length}},function(e,t,n){'use strict';n.r(t),n.d(t,'fetchAkamaiConfigs',function(){return i});var i=function(e,t){'perf'===e&&(e='qa');var n=t.toLowerCase().replace(/_/g,'-'),i=new Request('https://a.sfdcstatic.com/assets/'.concat(e,'/livechat/').concat(n,'.json'),{method:'GET'}),a=fetch(i).then(function(e){if(!e.ok){try{var n=document.createElement('script');n.type='module',n.innerHTML='import logging from \'https://www.salesforce.com/c/public/app/mjs/clientLogging.js\'; (async () => {window.logging = logging; window.logging(\''.concat('Livechat config error','\', ').concat(JSON.stringify({campaignId:'LcMPza4ZJ5',experienceId:'LcH1kNhdkQ',name:'LcEvent',type:'error',description:'Livechat configs were not able to be fetched'}),', \'').concat('error','\');})();'),document.body.appendChild(n)}catch(e){}return}return e.json()}).then(function(e){return e})['catch'](function(e){return e});return a}},function(e,t,n){'use strict';n.r(t);var i=n(7),a=n(4),s=n(9);n(12),function(){Object(s.getChatConf)().then(function(n){if(Object(a.isEmpty)(n)||0===Object.keys(n).length){try{var i=document.createElement('script');i.type='module',i.innerHTML='import logging from \'https://www.salesforce.com/c/public/app/mjs/clientLogging.js\'; (async () => {window.logging = logging; window.logging(\''.concat('Livechat config error','\', ').concat(JSON.stringify({campaignId:'LcMPza4ZJ5',experienceId:'LcH1kNhdkQ',name:'LcEvent',type:'error',description:'Livechat configs were not able to be fetched'}),', \'').concat('error','\');})();'),document.body.appendChild(i)}catch(e){}return}if(!window.embedded_svc){var t=document.createElement('script');t.setAttribute('src',n.eswSrc),t.onload=function(){e(null,n)},document.body.appendChild(t)}else e(n.cdnEndpoint,n)})['catch'](function(){throw new Error('Unable to retrieve live chat configs')});var e=function(e,t){embedded_svc.settings.displayHelpButton=t.settings.displayHelpButton,embedded_svc.settings.language=t.settings.language,embedded_svc.settings.defaultMinimizedText=t.settings.defaultMinimizedText,embedded_svc.settings.disabledMinimizedText=t.settings.disabledMinimizedText,embedded_svc.settings.wwwChatBotEnabled=t.settings.wwwChatBotEnabled,embedded_svc.settings.enabledFeatures=t.settings.enabledFeatures,embedded_svc.settings.entryFeature=t.settings.entryFeature,embedded_svc.addEventHandler('onSettingsCallCompleted',function(){Object(i.onSettingsChatHandler)()}),embedded_svc.addEventHandler('onChatEndedByAgent',function(){Object(i.createChatEvent)('onChatEndedByAgent','agent')}),embedded_svc.addEventHandler('onChatEndedByChasitor',function(){Object(i.createChatEvent)('onChatEndedByChasitor','visitor')}),embedded_svc.addEventHandler('afterDestroy',function(){Object(i.createChatEvent)('afterDestroy','destroy_chat')}),embedded_svc.addEventHandler('onChatRequestSuccess',function(e){Object(i.onChatSuccessHandler)('onChatRequestSuccess',e,embedded_svc.settings.wwwChatBotEnabled)}),embedded_svc.addEventHandler('onChatTransferSuccessful',function(e){Object(i.onChatSuccessHandler)('onChatTransferSuccessful',e,embedded_svc.settings.wwwChatBotEnabled)}),embedded_svc.init(t.orgEndpoint,t.storeEndpoint,e,t.orgId,t.snippetName,{baseLiveAgentContentURL:t.baseLiveAgentContentURL,deploymentId:t.deploymentId,buttonId:t.buttonId,baseLiveAgentURL:t.baseLiveAgentURL,eswLiveAgentDevName:t.eswLiveAgentDevName,isOfflineSupportEnabled:t.isOfflineSupportEnabled})}}()},function(e,t,n){'use strict';n.r(t),n.d(t,'isChatWindowOpen',function(){return r}),n.d(t,'bindChatClick',function(){return d}),n.d(t,'onSettingsChatHandler',function(){return l}),n.d(t,'createChatEvent',function(){return c}),n.d(t,'onChatSuccessHandler',function(){return g}),n.d(t,'processChatInit',function(){return p});var i=n(4),a=n(8),s='chatInitKeys',o=function(){if('undefined'!=typeof window.digitalData){var e=window.digitalData.util,t=window.digitalData.localStorage;s in t||(t[s]=[],e.saveLocalStorage())}};o();var r=function(){return document.querySelector('.featureBody.embeddedServiceSidebarFeature')},d=function(e){var t=document.querySelector(e.selector);t&&t.addEventListener('click',function(){r()||c('chatView',e.label)})},l=function(){d({selector:'.embeddedServiceHelpButton .helpButton button.uiButton',label:'chat-anchor'}),Object(a.setPrechatFormDetails)()},c=function(e,t){Object(i.triggerEvent)(document,'sfdc-'+e,t)},g=function(e,t,n){'onChatRequestSuccess'===e?!1===n&&p(t):'onChatTransferSuccessful'==e&&n&&p(t)},p=function(e){var t=e.liveAgentSessionKey,n=window.digitalData.util,a=window.digitalData.localStorage;a[s].includes(t)||(a[s].push(t),n.saveLocalStorage(),Object(i.triggerEvent)(document,'sfdc-chatInitialize'))}},function(e,t,n){'use strict';function i(e){'@babel/helpers - typeof';return i='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},i(e)}n.r(t),n.d(t,'setPrechatFormDetails',function(){return p});var a=n(4),s=n(3),o=function(e,t,n,i,a){e.push({label:t,value:n,displayToAgent:i,transcriptFields:a})},r=function(e){return e?e:null},d=function(e){var t='';return e&&(e.sales&&(t+='|Sales:'+e.sales),e.service&&(t+='|Service:'+e.service),e.marketing&&(t+='|Mktg:'+e.marketing),e.platform&&(t+='|Plat:'+e.platform),0<t.length)?t.substring(1):null},l=function(e,t){var n='undefined'!=typeof Util&&Util.getCookie?Util.getCookie('appxud'):{};Object(a.isEmpty)(n)||(o(e,'Form - First name',r(n.f),!0,['First_Name__c']),o(e,'Form - Last name',r(n.l),!0,['Last_Name__c']),o(e,'Form - Email',r(n.e),!0,['Email__c']),o(e,'Form - Phone number',r(n.p),!0,['Phone_Number__c']),o(t,'Form - Job title',r(n.t),!0,['Job_Title__c']),o(t,'Form - Company name',r(n.c),!0,['Company_Name__c']),o(t,'Form - Product Interest',r(n.pi),!0,['Product_Interest__c']),o(t,'Primary Product Interest',r(n.ppi),!0,['Primary_Product_Interest__c']))},c=function(){'object'===('undefined'==typeof SfdcWwwBase?'undefined':i(SfdcWwwBase))&&SfdcWwwBase.demandBase&&SfdcWwwBase.demandBase.loaded&&SfdcWwwBase.demandBase.loaded.then(function(){var e=SfdcWwwBase.demandBase.data,t=[];e&&(o(t,'Demandbase Company Name',r(e.company_name),!0,['Demandbase_Company_Name__c']),o(t,'Demandbase Employee count',r(e.employee_count),!0,['Employee_Count__c']),o(t,'Demandbase Region name',r(e.region_name),!0,['Region_Name__c']),o(t,'Demandbase City',r(e.city),!0,['Registry_City__c']),o(t,'Demandbase Industry',r(e.industry),!0,['Industry__c']),o(t,'Demandbase Audience',r(e.audience),!0,['Audience__c']),o(t,'Demandbase Audience segment',r(e.audience_segment),!0,['Audience_Segment__c']),o(t,'Demandbase Marketing alias',r(e.marketing_alias),!0,['Marketing_Alias__c']),embedded_svc.settings.extraPrechatFormDetails=embedded_svc.settings.extraPrechatFormDetails.concat(t))})},g=function(e){'undefined'!=typeof digitalData&&(o(e,'PTC Score',d(digitalData.ptc),!0,['PTC_Scoring__c']),digitalData.page&&(o(e,'Converting page',r(digitalData.page.convertingpage),!0,['Converting_Page__c']),o(e,'Previous page',r(digitalData.page.prevpage),!0,['Previous_Page__c']),o(e,'Page type',r(digitalData.page.type),!0,['Page_Type__c']),o(e,'Page referrer',r(digitalData.page.referrer),!0,['Page_Referrer__c'])))},p=function(){var e=[],t=[];embedded_svc.settings.extraPrechatFormDetails||(embedded_svc.settings.extraPrechatFormDetails=[]);var n=location.origin+location.pathname;o(t,'Page URL',n.substring(0,255),!0,['Page_URL__c']),'object'===('undefined'==typeof SfdcWwwBase?'undefined':i(SfdcWwwBase))&&SfdcWwwBase.gdpr&&SfdcWwwBase.gdpr.isActiveGroup('functional')&&(l(e,t),g(t),c()),embedded_svc.settings.extraPrechatFormDetails=embedded_svc.settings.extraPrechatFormDetails.concat(t,e),'undefined'!=typeof ga&&ga(function(){var e=Object(s.gaData)().gaClientId||'';embedded_svc.settings.extraPrechatFormDetails.push({label:'Google Client ID',value:e,displayToAgent:!1,transcriptFields:['GA_Client_ID__c']})})}},function(e,t,n){'use strict';n.r(t),n.d(t,'getChatConf',function(){return s});var i=n(5),a=n(10),s=function(){var e=new Promise(function(e,t){var n,s=null!==(n=sfdcBase)&&void 0!==n&&n.locale?sfdcBase.locale.toLowerCase():'',o='undefined'!=typeof sfdcBase&&sfdcBase.env?sfdcBase.env.toLowerCase():'prod';if(!s)return void t();var r=Object(i.fetchAkamaiConfigs)(o,s);r.then(function(t){var n=Object(a.constructEnvConf)(t,o,s);e(n)})['catch'](function(e){t(e)})});return e}},function(e,t,n){'use strict';function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function i(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?a(Object(t),!0).forEach(function(n){s(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))});return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(t),n.d(t,'constructEnvConf',function(){return r});var o=n(11),r=function(e,t,n){if('prod'!==t)return e;var a=n.toLowerCase().replace(/-/g,'_'),s=o.defaultConfigs.prod[a];if(!e||0===Object.keys(e).length)return s;var r=i(i({},null===s||void 0===s?void 0:s.settings),null===e||void 0===e?void 0:e.settings),d=i(i({},s),e);return d.settings=r,d}},function(e,t,n){'use strict';n.r(t),n.d(t,'defaultConfigs',function(){return i});var i={prod:{en_us:{orgId:'00D000000000062',storeEndpoint:'https://sf.secure.force.com/saleschat',cdnEndpoint:'https://service.force.com',orgEndpoint:'https://org62.my.salesforce.com',snippetName:'Sales',baseLiveAgentContentURL:'https://c.la2-c1-ia4.salesforceliveagent.com/content',deploymentId:'57230000000DmsR',buttonId:'5733y000000MDKV',baseLiveAgentURL:'https://d.la2-c1-ia4.salesforceliveagent.com/chat',eswLiveAgentDevName:'EmbeddedServiceLiveAgent_Parent04I0M000000PAsDUAW_15f4f60cb08',settings:{displayHelpButton:!0,language:'en-US',defaultMinimizedText:'Let\'s chat',disabledMinimizedText:'Let\'s chat',wwwChatBotEnabled:!0,enabledFeatures:['LiveAgent'],entryFeature:'LiveAgent'},isOfflineSupportEnabled:!1,eswSrc:'https://org62.my.salesforce.com/embeddedservice/5.0/esw.min.js'},en_gb:{orgId:'00D000000000062',buttonId:'5733y000000fzvH',deploymentId:'572300000009XhK',storeEndpoint:'https://sf.secure.force.com/saleschat',cdnEndpoint:'https://service.force.com',orgEndpoint:'https://org62.my.salesforce.com',snippetName:'Snap_Ins_UK',eswLiveAgentDevName:'EmbeddedServiceLiveAgent_Parent04I0M000000KynTUAS_161b6220438',baseLiveAgentContentURL:'https://c.la2-c1-ia4.salesforceliveagent.com/content',baseLiveAgentURL:'https://d.la2-c1-ia4.salesforceliveagent.com/chat',eswSrc:'https://org62.my.salesforce.com/embeddedservice/5.0/esw.min.js',isOfflineSupportEnabled:!0,settings:{language:'en-US',wwwChatBotEnabled:!0,defaultMinimizedText:'Let\'s chat',disabledMinimizedText:'Let\'s chat',displayHelpButton:!0,enabledFeatures:['LiveAgent'],entryFeature:'LiveAgent'}}}}},function(){function e(t){'@babel/helpers - typeof';return e='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},e(t)}(function(t){function n(){var e,t=!1;this.settings={appendHelpButton:!0,displayHelpButton:!0,isExternalPage:!0,devMode:!1,targetElement:document.body,elementForOnlineDisplay:void 0,elementForOfflineDisplay:void 0,defaultMinimizedText:'',disabledMinimizedText:'',defaultAssistiveText:'',loadingText:'Loading',showIcon:void 0,enabledFeatures:[],entryFeature:'FieldService',storageDomain:document.domain,language:void 0,linkAction:{feature:void 0,name:void 0,valid:!1},linkActionParameters:{},useCustomAuthentication:!1,allowGuestUsers:!1,requireSLDS:!1},this.auth={},this.validLinkActions={},this.isMasterAndHasSlaves=!1,Object.defineProperty(this.auth,'oauthToken',{get:function(){return e},set:function(t){this.validateHeaderValue(t)?(e=t,t?(this.setSessionData(c,t),this.checkAuthentication()):this.deleteSessionData(c)):this.error('"'+t+'" is not a valid OAuth token.')}.bind(this)}),this.featureScripts={},this.storedEventHandlers={},this.messageHandlers={},this.storageKeys=[g,p,u,c],this.defaultSettings={},this.snippetSettingsFile={},this.eswFrame=void 0,this.availableFeatures=['script','session'],this.outboundMessagesAwaitingIframeLoad=[],this.pendingMessages={},this.iframeScriptsToLoad=[],this.domInitInProgress=!1,this.componentInitInProgress=!1,this.hasSessionDataLoaded=!1,this.isIframeReady=!1,this.isAuthenticationRequired=!1,this.loginPendingSerializedData=void 0,Object.defineProperty(this,'isButtonDisabled',{get:function(){return t},set:function(e){t=e,this.onButtonStatusChange()}.bind(this),configurable:!0}),this.setupMessageListener(),this.getLinkActionData()}var i='embeddedServiceHelpButton',a=['.salesforce.com','.force.com','.sfdc.net'],s='esw_storage_iframe',o='5.0',r=100,d='__snapinsLoginCallback',l='__snapinsLogoutCallback',c='ESW_OAUTH_TOKEN',g='ESW_BODY_SCROLL_POSITION',p='ESW_IS_MINIMIZED',u='ESW_MINIMIZED_TEXT';n.prototype.getLightningOutParamsObj=function(){var e={};return embedded_svc.config&&embedded_svc.config.additionalSettings&&embedded_svc.config.additionalSettings.labelsLanguage?e={guestUserLang:embedded_svc.config.additionalSettings.labelsLanguage}:embedded_svc.settings.language&&''!==embedded_svc.settings.language.trim()&&(e={guestUserLang:embedded_svc.settings.language}),e.eswConfigDeveloperName=embedded_svc.settings.eswConfigDevName,e},n.prototype.adjustCommunityStorageDomain=function(){this.isCommunityDomain(this.settings.storageDomain)&&this.settings.storageDomain===document.domain&&(this.settings.storageDomain=this.settings.storageDomain+'/'+window.location.pathname.split('/')[1])},n.prototype.loadLightningOutScripts=function(e){return'function'==typeof Promise?new Promise(function(t,n){var i,a;try{i=e&&e.baseCoreURL?e.baseCoreURL:embedded_svc.settings.baseCoreURL,window.$Lightning?t('Lightning Out is already loaded on this page.'):embedded_svc.utils.isCommunityOrSite()?t('Communities context does not require Lightning Out to use Embedded Service.'):i&&(a=document.createElement('script'),a.type='text/javascript',a.src=i+'/lightning/lightning.out.js',a.onload=function(){t('Lightning Out scripts loaded.')},document.getElementsByTagName('head')[0].appendChild(a))}catch(e){n(e)}}):void this.loadScriptFromDirectory('common','promisepolyfill',function(){return this.loadLightningOutScripts(e)}.bind(this),!0)},n.prototype.instantiateLightningOutApplication=function(e){return'function'==typeof Promise?new Promise(function(t,n){var i,a,s;try{i=e&&e.communityEndpointURL?e.communityEndpointURL:embedded_svc.settings.communityEndpointURL,a=e&&e.oauthToken?e.oauthToken:embedded_svc.settings.oauthToken,s=e&&e.paramsObj?e.paramsObj:embedded_svc.getLightningOutParamsObj()||void 0,embedded_svc.utils.isCommunityOrSite()?t('Communities context already has an Aura context.'):window.$Lightning&&$Lightning.use('embeddedService:sidebarApp',function(){t('Lightning Out application request complete.')},i,a,s)}catch(e){n(e)}}):void this.loadScriptFromDirectory('common','promisepolyfill',function(){return this.instantiateLightningOutApplication(e)}.bind(this),!0)},n.prototype.createEmbeddedServiceComponent=function(e){return'function'==typeof Promise?new Promise(function(t,n){var i,a,s=e&&e.chatAPISettings?embedded_svc.validateStartChatAttributes(e.chatAPISettings):{};try{i=e&&e.attributes?e.attributes:{configurationData:embedded_svc.settings,chatAPISettings:s},a=e&&e.locator?e.locator:embedded_svc.settings.targetElement,embedded_svc.preparePageForSidebar(),window.$Lightning&&!document.querySelector('.embeddedServiceSidebar')?$Lightning.ready($Lightning.createComponent.bind(this,'embeddedService:sidebar',i,a,function(e,i,a){'SUCCESS'===i?embedded_svc.utils.addEventHandler('afterInitialization',function(){t('Embedded Service component created.')}):n(a)})):embedded_svc.utils.isCommunityOrSite()?window.dispatchEvent(new CustomEvent('embeddedServiceCreateSidebar',{detail:{componentAttributes:i,resolve:t,reject:n}})):'undefined'==typeof window.$Lightning?t('Lightning Out should be loaded on this page before creating the Embedded Service component.'):t('Embedded Service component already exists.')}catch(e){n(e)}}):void this.loadScriptFromDirectory('common','promisepolyfill',function(){return this.createEmbeddedServiceComponent(e)}.bind(this),!0)},n.prototype.bootstrapEmbeddedService=function(e){return'function'==typeof Promise?new Promise(function(t,n){try{embedded_svc.loadLightningOutScripts(e).then(function(){embedded_svc.instantiateLightningOutApplication(e).then(function(){embedded_svc.createEmbeddedServiceComponent(e).then(function(){window.requestAnimationFrame(function(){embedded_svc.hideHelpButton(),t('Embedded Service application and component bootstrapped.')})})})})}catch(e){n(e)}}):void this.loadScriptFromDirectory('common','promisepolyfill',function(){return embedded_svc.bootstrapEmbeddedService(e)},!0)},n.prototype.validateStartChatAttributes=function(t){var n=t?t:{},i=n&&n.prepopulatedPrechatFields?n.prepopulatedPrechatFields:{},a=n&&n.extraPrechatInfo?n.extraPrechatInfo:[],s=n&&n.extraPrechatFormDetails?n.extraPrechatFormDetails:[],o=n&&n.fallbackRouting?n.fallbackRouting:[],r=n&&n.directToButtonRouting?n.directToButtonRouting:void 0,d={buttonId:n&&n.buttonId?n.buttonId:void 0,userId:n&&n.userId?n.userId:void 0,fallback:n&&'boolean'==typeof n.fallback?n.fallback:void 0};if('object'===e(i))n.prepopulatedPrechatFields=i;else throw new Error('Validation failed for prepopulatedPrechatFields, received: '+i);if(Array.isArray(s))n.extraPrechatFormDetails=s;else throw new Error('Validation failed for extraPrechatFormDetails, received: '+s);if(Array.isArray(a))n.extraPrechatInfo=a;else throw new Error('Validation failed for extraPrechatInfo, received: '+a);if(Array.isArray(o))n.fallbackRouting=o;else throw new Error('Validation failed for fallbackRouting, received: '+o);if('function'==typeof r?n.directToButtonRouting=r:embedded_svc.log('Did not receive an actionable parameter for directToButtonRouting, received: '+r),'object'!==e(d))throw new Error('Validation failed for directToAgentRouting, received: '+d);else if(n.directToAgentRouting=d,!d.buttonId)embedded_svc.log('Did not receive an actionable parameter for directToAgentRouting\'s buttonId, received: '+d.buttonId);else if('string'==typeof d.buttonId&&d.buttonId.trim().length)n.directToAgentRouting.buttonId=d.buttonId.trim(),n.directToAgentRouting.fallback=d.fallback,d.userId&&('string'==typeof d.userId&&d.userId.trim().length?n.directToAgentRouting.userId=d.userId.trim():embedded_svc.log('Did not receive an actionable parameter for directToAgentRouting\'s userId, received: '+d.userId));else throw new Error('Validation failed for directToAgentRouting\'s buttonId, received: '+d.buttonId);return n},n.prototype.isInternetExplorer=function(){return'ActiveXObject'in window},n.prototype.outputToConsole=function(e,t,n){(n||this.settings.devMode)&&console&&console[e]&&console[e]('[Snap-ins] '+(Array.isArray(t)?t.join(', '):t))},n.prototype.log=function(){this.outputToConsole('log',[].slice.apply(arguments))},n.prototype.error=function(e,t){e?this.outputToConsole('error',e,t):this.outputToConsole('error','esw responed with an unspecified error.',t),embedded_svc.utils.fireEvent('error')},n.prototype.warning=function(e,t){e?this.outputToConsole('warn','Warning: '+e,t):this.outputToConsole('warn','esw sent an anonymous warning.',t)},n.prototype.deprecated=function(e){this.warning(e+' is deprecated in version '+(+o).toFixed(1)+' and will be removed in version '+(+o+1).toFixed(1))},n.prototype.getCookie=function(e){var t,n,i=document.cookie;return i&&(t=i.indexOf(e+'='),-1!==t)?(t+=(e+'=').length,n=i.indexOf(';',t),-1===n&&(n=i.length),i.substring(t,n)):void 0},n.prototype.setCookie=function(e,t,n){var i,a=e+'='+t+';';n&&(i=new Date,i.setFullYear(i.getFullYear()+10),a+='expires='+i.toUTCString()+';'),a+='path=/;',document.cookie=a},n.prototype.mergeSettings=function(e){Object.keys(e).forEach(function(t){this.settings[t]===void 0&&(this.settings[t]=e[t])}.bind(this))},n.prototype.loadFeatureScript=function(e,t){var n=decodeURI(e).toLowerCase();-1===e.indexOf('..')?this.loadScriptFromDirectory('client',n+'.esw',function(){this.featureScripts[e](this),this.availableFeatures.push(n),embedded_svc.utils.fireEvent('featureLoaded',void 0,e),t&&t(),this.processPendingMessages(n)}.bind(this)):this.error('"'+e+'" is not a valid feature name.')},n.prototype.fireEvent=function(e,t){var n=[].slice.apply(arguments).slice(2);return window.embedded_svc&&embedded_svc.utils?embedded_svc.utils.fireEvent(e,t,n):(this.error('fireEvent should not be called before calling init!'),!0)},n.prototype.isValidEntityId=function(e){return'string'==typeof e&&(18===e.length||15===e.length)},n.prototype.getKeyPrefix=function(e){return this.isValidEntityId(e)?e.substr(0,3):void 0},n.prototype.isOrganizationId=function(e){return'00D'===this.getKeyPrefix(e)},n.prototype.getESWFrame=function(){var e=document.getElementById(s);return!this.eswFrame&&e&&(this.eswFrame=e.contentWindow),this.eswFrame},n.prototype.isFrameStorageEnabled=function(){return this.deprecated('isFrameStorageEnabled'),!0},n.prototype.processPendingMessages=function(e){this.pendingMessages[e]&&(this.pendingMessages[e].forEach(function(e){this.handleMessage(e.payload)}.bind(this)),this.pendingMessages[e]=void 0)},n.prototype.loadCSS=function(){var e=document.createElement('link'),t=this.settings.gslbBaseURL?this.settings.gslbBaseURL:this.settings.baseCoreURL;e.href=t+'/embeddedservice/'+this.settings.releaseVersion+'/esw'+(this.settings.devMode?'':'.min')+'.css',e.type='text/css',e.rel='stylesheet',document.getElementsByTagName('head')[0].appendChild(e)},n.prototype.appendHelpButton=function(e){var t=document.createElement('div'),n='';t.className=i,this.isLanguageRtl(this.settings.language)&&this.isDesktop()&&(n='dir="rtl"'),t.innerHTML='<div class="helpButton"'+n+'><button class="helpButtonEnabled uiButton" href="javascript:void(0)"><span class="embeddedServiceIcon" aria-hidden="true" data-icon="&#59648;"></span><span class="helpButtonLabel" id="helpButtonSpan" aria-live="polite" aria-atomic="true"><span class="assistiveText">'+(this.settings.defaultAssistiveText||'')+'</span><span class="message"></span></span></button></div>',e||(t.style.display='none'),this.settings.targetElement.appendChild(t),this.setHelpButtonText(this.settings.defaultMinimizedText),'ontouchstart'in document.documentElement&&[].slice.apply(document.querySelectorAll('.embeddedServiceHelpButton .uiButton')).forEach(function(e){e.classList.add('no-hover')}),this.onButtonStatusChange()},n.prototype.appendIFrame=function(){var t=document.createElement('iframe'),e={};t.id=s,t.src=this.settings.iframeURL,t.style.display='none',t.title='Live Chat Metadata',t.onload=function(){var t=this.getESWFrame();this.isIframeReady=!0,this.outboundMessagesAwaitingIframeLoad.forEach(function(e){t.postMessage(e,this.settings.iframeURL)}.bind(this)),this.outboundMessagesAwaitingIframeLoad=[],this.iframeScriptsToLoad.forEach(function(e){this.loadStorageScript(e)}.bind(this)),e.deploymentId=this.settings.deploymentId,e.isSamePageNavigation=this.isSamePageNavigation(),e.isRefresh=1===window.performance.navigation.type,this.postMessage('session.updateStorage',e),this.iframeScriptsToLoad=[]}.bind(this),this.settings.targetElement.appendChild(t),window.addEventListener('beforeunload',function(n){var e='You might lose the active chat session if you close this tab. Are you sure?';if(this.isInternetExplorer()&&(t.src='about:blank'),this.isMasterAndHasSlaves)if(embedded_svc.utils.fireEvent('snapinsCloseSessionWarning'),this.settings.closeSessionWarning&&'function'==typeof this.settings.closeSessionWarning)this.settings.closeSessionWarning();else return(n||window.event).returnValue=e,e;this.settings.__synchronous_decrement_tab||this.postMessage('chasitor.decrementActiveChatSession',this.settings.deploymentId)}.bind(this),!1)},n.prototype.preparePageForSidebar=function(){var e={};document.getElementById('snapins_invite')&&embedded_svc.inviteAPI&&embedded_svc.inviteAPI.inviteButton.setOnlineState(!1),embedded_svc.utils.fireEvent('beforeCreate'),Object.keys(this.settings).forEach(function(t){e[t]=this.settings[t]}.bind(this)),this.mergeSettings(this.defaultSettings)},n.prototype.createLightningComponent=function(e){this.preparePageForSidebar(),this.createEmbeddedServiceComponent({attributes:{configurationData:this.settings,serializedSessionData:e},locator:this.settings.targetElement}).then(function(){this.hideHelpButton(),this.componentInitInProgress=!1,this.setHelpButtonText(this.settings.defaultMinimizedText),embedded_svc.utils.fireEvent('ready')}.bind(this))},n.prototype.loadLightningApp=function(e){var t,n;if(this.settings.isExternalPage&&'string'!=typeof this.settings.communityEndpointURL)throw new Error('communityEndpointURL String property not set');t=document.getElementsByClassName('helpButton')[0],t&&(n=t.getBoundingClientRect().width,0<n&&(t.style.width=n+'px')),this.setHelpButtonText(this.settings.loadingText,!1),this.instantiateLightningOutApplication({communityEndpointURL:this.settings.communityEndpointURL,oauthToken:this.auth.oauthToken}).then(this.createLightningComponent.bind(this,e))},n.prototype.initLightningOut=function(e){this.hasSessionDataLoaded&&('function'==typeof Promise?this.loadLightningOutScripts().then(this.loadLightningApp.bind(this,e)):this.loadScriptFromDirectory('common','promisepolyfill',function(){this.initLightningOut(e)}.bind(this),!0))},n.prototype.setHelpButtonText=function(e,t){var n,i,a=!(this.settings.showIcon!==void 0)||this.settings.showIcon,s=t===void 0?a:t,o=document.getElementById('helpButtonSpan');o&&(n=o.querySelector('.message'),n.innerHTML=e,i=o.parentElement.querySelector('.embeddedServiceIcon'),i&&(i.style.display=s?'inline-block':'none'))},n.prototype.prepareDOM=function(){this.domInitInProgress||(this.domInitInProgress=!0,this.appendIFrame())},n.prototype.addSessionHandlers=function(){this.addMessageHandler('session.onLoad',function(){this.postMessage('session.get',this.storageKeys)}.bind(this)),this.addMessageHandler('session.sessionData',function(e){this.resumeInitWithSessionData(e)}.bind(this)),this.addMessageHandler('session.deletedSessionData',function(e){-1<e.indexOf('CHASITOR_SERIALIZED_KEY')&&(this.loginPendingSerializedData=void 0)}.bind(this)),this.addMessageHandler('session.updateMaster',function(e){e&&(e.isMaster?sessionStorage.setItem(this.settings.storageDomain+'MASTER_DEPLOYMENT_ID',this.settings.deploymentId):sessionStorage.removeItem(this.settings.storageDomain+'MASTER_DEPLOYMENT_ID'),this.isMasterAndHasSlaves=1<e.activeChatSessions&&e.isMaster,embedded_svc&&embedded_svc.liveAgentAPI&&(embedded_svc.liveAgentAPI.browserSessionInfo=e))}.bind(this))},n.prototype.addMetaTag=function(e,t){var n=document.createElement('meta');n.name=e,n.content=t,document.head.appendChild(n)},n.prototype.init=function(e,t,n,i,a,s){if(this.settings.baseCoreURL=e,this.settings.communityEndpointURL=t,this.settings.gslbBaseURL=n?n:e,this.settings.orgId=i,this.settings.releaseVersion=o,this.settings.eswConfigDevName=a,this.mergeSettings(s||{}),this.adjustCommunityStorageDomain(),'string'!=typeof this.settings.baseCoreURL)throw new Error('Base core URL value must be a string.');if(!this.isOrganizationId(this.settings.orgId))throw new Error('Invalid OrganizationId Parameter Value: '+this.settings.orgId);embedded_svc.utils?this.finishInit():this.loadScriptFromDirectory('utils','common',this.finishInit.bind(this))},n.prototype.finishInit=function(){if(this.storedEventHandlers&&(Object.getOwnPropertyNames(this.storedEventHandlers).forEach(function(e){this.storedEventHandlers[e].forEach(function(t){embedded_svc.utils.addEventHandler(e,t)})}.bind(this)),this.storedEventHandlers={}),!embedded_svc.utils.fireEvent('validateInit',function(e){return-1!==e.indexOf(!1)},this.settings)){if(this.checkForNativeFunctionOverrides(),this.settings.appendHelpButton&&this.loadCSS(),!this.settings.targetElement)throw new Error('No targetElement specified');this.settings.iframeURL=this.settings.gslbBaseURL+'/embeddedservice/'+this.settings.releaseVersion+(this.settings.devMode?'/eswDev.html':'/esw.html')+'?parent='+document.location.href,this.addSessionHandlers(),this.loadFeatures(this.onFeatureScriptsLoaded.bind(this)),embedded_svc.utils.fireEvent('afterInit',void 0,this.settings)}},n.prototype.onFeatureScriptsLoaded=function(){'complete'===document.readyState?setTimeout(this.prepareDOM.bind(this),1):document.addEventListener?(document.addEventListener('DOMContentLoaded',this.prepareDOM.bind(this),!1),window.addEventListener('load',this.prepareDOM.bind(this),!1)):window.attachEvent?window.attachEvent('onload',this.prepareDOM.bind(this)):this.log('No available event model. Exiting.')},n.prototype.checkForNativeFunctionOverrides=function(){var e=[{name:'document',object:document,functions:['addEventListener','createAttribute','createComment','createDocumentFragment','createElementNS','createTextNode','createRange','getElementById','getElementsByTagName','getElementsByClassName','querySelector','querySelectorAll','removeEventListener']},{name:'window',object:window,functions:['addEventListener','clearTimeout','dispatchEvent','open','removeEventListener','requestAnimationFrame','setInterval','setTimeout']}];e.forEach(function(e){e.functions.forEach(function(t){t in e.object&&!this.isNativeFunction(e.object,t)&&this.warning('Embedded Service Chat may not function correctly with this native JS function modified: '+e.name+'.'+t,!0)}.bind(this))}.bind(this))},n.prototype.isNativeFunction=function(e,t){return Function.prototype.toString.call(e[t]).match(/\[native code\]/)},n.prototype.onHelpButtonClick=function(){if(!this.componentInitInProgress&&!document.getElementsByClassName('embeddedServiceSidebar').length){this.componentInitInProgress=!0;try{embedded_svc.utils.isCommunityOrSite()&&0<Object.keys(embedded_svc.liveAgentAPI.inviteButton).length?window.dispatchEvent(new CustomEvent('onStartChatFromInvitation'),{detail:{bubbles:!0,composed:!1}}):(this.checkAuthentication(),embedded_svc.utils.fireEvent('onHelpButtonClick'))}catch(e){throw this.componentInitInProgress=!1,e}}},n.prototype.resumeInitWithSessionData=function(e){var t=embedded_svc.utils.fireEvent('sessionDataRetrieved',function(e){return-1!==e.indexOf(!0)},e),n=!1,i=!1;this.settings.linkAction.valid?n=!0:t?(this.log('Existing session found. Continuing with data: '+e),n=!0,i=!0,embedded_svc.menu&&embedded_svc.menu.hideTopContainer()):this.componentInitInProgress&&(n=!0),this.hasSessionDataLoaded=!0,e[c]&&(this.auth.oauthToken=e[c]),this.loginPendingSerializedData=i?e:void 0,n&&(this.componentInitInProgress=!0,this.checkAuthentication()),this.settings.appendHelpButton&&this.appendHelpButton(this.settings.displayHelpButton&&!t)},n.prototype.checkAuthentication=function(){this.isAuthenticationRequired&&!this.settings.allowGuestUsers?this.auth.oauthToken?(this.loginButtonPressed||this.componentInitInProgress)&&this.initLightningOut(this.loginPendingSerializedData):embedded_svc.utils.fireEvent('requireauth'):(this.loginButtonPressed||this.componentInitInProgress)&&this.initLightningOut(this.loginPendingSerializedData)},n.prototype.postMessage=function(e,t){var n={domain:this.settings.storageDomain,data:t,method:e},i=this.getESWFrame();i?i.postMessage(n,this.settings.iframeURL):this.outboundMessagesAwaitingIframeLoad.push(n)},n.prototype.setSessionData=function(t,n){var i;'object'===e(t)?i=t:(i={},i[t]=n),this.postMessage('session.set',i)},n.prototype.deleteSessionData=function(e){var t;t=Array.isArray(e)?e:[e],this.postMessage('session.delete',t)},n.prototype.defineFeature=function(e,t){this.featureScripts[e]=t},n.prototype.registerStorageKeys=function(e){'string'==typeof e?this.storageKeys.push(e):e.forEach(function(e){this.storageKeys.push(e)}.bind(this))},n.prototype.addMessageHandler=function(e,t){this.messageHandlers[e]||(this.messageHandlers[e]=[]),this.messageHandlers[e].push(t)},n.prototype.clearMessageHandlers=function(){Object.keys(this.messageHandlers).forEach(function(e){this.messageHandlers[e]=[]}.bind(this))},n.prototype.loadStorageScript=function(e){this.isIframeReady?this.postMessage('script.load',e):this.iframeScriptsToLoad.push(e)},n.prototype.loadScriptFromDirectory=function(e,t,n,i){var a=t.toLowerCase(),s=document.createElement('script'),o=this.settings.gslbBaseURL;s.type='text/javascript',s.src=[o,'embeddedservice',i?void 0:this.settings.releaseVersion,e,a+(this.settings.devMode?'':'.min')+'.js'].filter(function(e){return!!e}).join('/'),n&&(s.onload=n),document.body.appendChild(s)},n.prototype.loadFeatures=function(e){this.settings.enabledFeatures.forEach(function(t){'base'!==t&&-1===this.availableFeatures.indexOf(t.toLowerCase())&&this.loadFeatureScript(t,e)}.bind(this))},n.prototype.addEventHandler=function(e,t){window.embedded_svc&&embedded_svc.utils?embedded_svc.utils.addEventHandler(e,t):(!this.storedEventHandlers[e]&&(this.storedEventHandlers[e]=[]),this.storedEventHandlers[e].push(t))},n.prototype.setupMessageListener=function(){window.addEventListener('message',function(e){var t,n,i,a=e.data,s=e.origin.split(':')[1].replace('//','');a&&a.method&&embedded_svc.isMessageFromSalesforceDomain(s)&&('session.onLoad'===a.method&&-1===this.settings.iframeURL.indexOf(s)&&(n=this.settings.iframeURL.split('/')[2],i=e.origin.split('/')[2],this.settings.iframeURL=this.settings.iframeURL.replace(n,i)),t=a.method.split('.')[0].toLowerCase(),-1===this.availableFeatures.indexOf(t)?(!this.pendingMessages[t]&&(this.pendingMessages[t]=[]),this.pendingMessages[t].push({direction:'incoming',payload:a})):this.handleMessage(a))}.bind(this),!1)},n.prototype.handleMessage=function(e){var t=this.messageHandlers[e.method];t?t.forEach(function(t){t(e.data)}):this.log('Unregistered method '+e.method+' received.')},n.prototype.isMessageFromSalesforceDomain=function(e){var t;return!!(embedded_svc.utils.isCommunityOrSite()&&e===document.domain)||(t=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},a.some(function(n){return t(e,n)}))},n.prototype.isCommunityDomain=function(e){return'.force.com'===e.substr(-10)},n.prototype.isSamePageNavigation=function(){var e,t,n=document.domain;return this.isCommunityDomain(document.domain)&&(t=n+'/'+window.location.pathname.split('/')[1],t===this.settings.storageDomain&&(n=t)),e=n.substr(-this.settings.storageDomain.length)===this.settings.storageDomain,e},n.prototype.addDefaultSetting=function(e,t){this.defaultSettings[e]=t},n.prototype.onButtonStatusChange=function(){var e,t=document.querySelector('.embeddedServiceHelpButton button');embedded_svc.menu&&embedded_svc.menu.onAgentAvailabilityChange(),t&&(e=t.querySelector('.message'),e&&(this.isButtonDisabled?(t.onclick=function(){},t.classList.remove('helpButtonEnabled'),t.classList.add('helpButtonDisabled'),e.innerHTML=this.settings.disabledMinimizedText):(t.onclick=this.onHelpButtonClick.bind(this),t.classList.remove('helpButtonDisabled'),t.classList.add('helpButtonEnabled'),e.innerHTML=this.settings.defaultMinimizedText)))},n.prototype.hideHelpButton=function(){var e=document.querySelector('.'+i);e&&(e.style.display='none')},n.prototype.showHelpButton=function(){var e=document.querySelector('.'+i);e&&(e.style.display='')},n.prototype.setDefaultButtonText=function(e,t,n,i){this.settings.entryFeature===e&&(this.settings.defaultMinimizedText=this.settings.defaultMinimizedText||t,this.settings.disabledMinimizedText=this.settings.disabledMinimizedText||n,this.settings.defaultAssistiveText=this.settings.defaultAssistiveText||i||'')},n.prototype.setDefaultShowIcon=function(e,t){this.settings.entryFeature===e&&this.settings.showIcon===void 0&&(this.settings.showIcon=t)},n.prototype.registerLinkAction=function(e,t){var n=this.settings.linkAction;this.validLinkActions[e]||(this.validLinkActions[e]=[]),-1===this.validLinkActions[e].indexOf(t)&&this.validLinkActions[e].push(t),n.feature&&n.name&&n.feature.toLowerCase()===e.toLowerCase()&&n.name.toLowerCase()===t.toLowerCase()&&(n.valid=!0,n.feature=e,this.settings.entryFeature=e)},n.prototype.setLinkAction=function(e,t,n){var i=Object.keys(this.validLinkActions).filter(function(t){return t.toLowerCase()===e.toLowerCase()})[0];i?(this.settings.linkAction.feature=i,this.settings.linkAction.name=this.validLinkActions[i].filter(function(e){return e.toLowerCase()===t.toLowerCase()})[0],this.settings.linkAction.valid=this.settings.linkAction.name!==void 0,this.settings.linkActionParameters=n):this.settings.linkAction.valid=!1},n.prototype.getLinkActionData=function(){window.location.search.replace(/([a-zA-Z0-9._]+)=([^&\s]+)/g,function(e,t,n){var i,a,s=t.toLowerCase();0===s.indexOf('snapins.')&&(a=s.replace('snapins.',''),'action'===a?(i=n.split('.'),2===i.length&&(this.settings.linkAction.feature=i[0],this.settings.linkAction.name=i[1])):this.settings.linkActionParameters[a.toLowerCase()]=n)}.bind(this))},n.prototype.requireAuthentication=function(){var e=document.createElement('script'),t=document.createElement('style'),n=document.querySelector(this.settings.loginTargetQuerySelector);if(this.isAuthenticationRequired=!0,'https:'!==window.location.protocol&&!this.settings.devMode)throw this.settings.displayHelpButton=!1,new Error('Snap-in authentication requires HTTPS.');if(!this.settings.useCustomAuthentication){if(!this.settings.loginClientId||!this.settings.loginRedirectURL||!this.settings.loginTargetQuerySelector)throw new Error('Authentication in Snap-ins requires these valid settings params: loginClientId, loginRedirectURL, loginTargetQuerySelector.');if(n)this.loginButtonPressed=!1,n.addEventListener('click',function(){this.loginButtonPressed=!0}.bind(this));else throw new Error('loginTargetQuerySelector is not a valid DOM element.');this.addMetaTag('salesforce-community',this.settings.communityEndpointURL),this.addMetaTag('salesforce-client-id',this.settings.loginClientId),this.addMetaTag('salesforce-redirect-uri',this.settings.loginRedirectURL),this.addMetaTag('salesforce-mode','popup'),this.addMetaTag('salesforce-target',this.settings.loginTargetQuerySelector),this.addMetaTag('salesforce-login-handler',d),this.addMetaTag('salesforce-logout-handler',l),embedded_svc.utils.addEventHandler('requireauth',function(){var e=setInterval(function(){window.SFIDWidget&&(clearInterval(e),window.SFIDWidget.openid_response?window[d]():window.SFIDWidget.login())},r)}),embedded_svc.utils.addEventHandler('autherror',function(){var e;window.SFIDWidget&&(this.loginButtonPressed=!0,window.SFIDWidget.logout(),e=setInterval(function(){window.SFIDWidget.config&&(clearInterval(e),embedded_svc.utils.fireEvent('requireauth'))}.bind(this,e),r))}.bind(this)),window[d]=function(){var e=document.querySelector(this.settings.loginTargetQuerySelector),t=document.createElement('button');(this.loginButtonPressed||this.componentInitInProgress)&&(e.innerHTML=''),t.className='authenticationStart',t.innerHTML=this.settings.authenticationStartLabel,t.addEventListener('click',this.onHelpButtonClick.bind(this)),e.appendChild(t),this.auth.oauthToken=window.SFIDWidget.openid_response.access_token}.bind(this),window[l]=function(){this.auth.oauthToken=void 0,window.SFIDWidget.init()}.bind(this),document.head.appendChild(t),t.sheet.insertRule('.sfid-logout { display: none; }',0),e.type='text/javascript',e.src=this.settings.communityEndpointURL+'/servlet/servlet.loginwidgetcontroller?type=javascript_widget'+(embedded_svc.settings.devMode?'&min=false':''),document.head.appendChild(e)}},n.prototype.requireSLDS=function(){var e,t,n;this.settings.requireSLDS=!0,this.settings.targetElement===document.body&&(e=document.createElement('div'),e.id='esw-snapin-target',document.body.appendChild(e),this.settings.targetElement=e),this.settings.targetElement.classList.add('slds-scope'),t=document.createElement('link'),n=this.settings.gslbBaseURL?this.settings.gslbBaseURL:this.settings.baseCoreURL,t.href=n+'/embeddedservice/'+this.settings.releaseVersion+'/esw-slds'+(this.settings.devMode?'':'.min')+'.css',t.type='text/css',t.rel='stylesheet',document.getElementsByTagName('head')[0].appendChild(t)},n.prototype.validateHeaderValue=function(e){return /^[0-9a-zA-Z!#$%&'*+-.^_`|~" ]*$/g.test(e)},n.prototype.isLanguageRtl=function(e){if(e&&''!==e.trim())switch(e.substring(0,2)){case'ar':case'fa':case'he':case'iw':case'ji':case'ur':case'yi':return!0;default:return!1;}},n.prototype.isDesktop=function(){return-1===navigator.userAgent.indexOf('Mobi')},window.embedded_svc=new n,Object.getOwnPropertyNames(t).forEach(function(e){var n=t[e];'object'===n?(window.embedded_svc[e]={},Object.keys(n).forEach(function(t){window.embedded_svc[e][t]=n[t]})):window.embedded_svc[e]=n})})(window.embedded_svc||{})},function(){(function(){'undefined'==typeof embedded_svc||embedded_svc.isDesktop()||document.querySelector('div.embeddedServiceInvitation').classList.add('mobile')})()},function(e,t,n){'use strict';n.r(t);var i=n(4);(function(){var e=document.getElementById('acceptInvite'),t=document.getElementById('rejectInvite');e&&(e.onclick=function(){embedded_svc.inviteAPI.inviteButton.acceptInvite(),Object(i.triggerEvent)(document,'sfdc-chatView','chat-invite')}),t&&(t.onclick=function(){embedded_svc.inviteAPI.inviteButton.rejectInvite();var e=document.querySelector('.embeddedServiceHelpButton .helpButton button.uiButton');e&&e.focus()}),document.addEventListener('keyup',function(e){27===e.keyCode&&embedded_svc.inviteAPI.inviteButton.rejectInvite()})})()},function(){(function(e,t,n){e[t]=e[t]||{},e[t][n]=!0})(window,'hgf','loaded')},function(){window.Util=window.Util||{};var e=function(e){return e}(window.Util);(function(e){function t(){var e=document.querySelectorAll('.region-selector a');e.forEach(function(e){e.addEventListener('click',function(t){var e=t.currentTarget.getAttribute('href');if(e){e=-1===(e.endsWith('/')||e.endsWith('?ir=1')||e.indexOf('?'))?e+'/':e;var i=e.split('/').slice(3)[0];''===i?n('us',e):(i.length===2||i.length===5)&&n(i,e)}})})}function n(t,n){var i=window&&window.location&&window.location.hostname;e.setJSONCookie({regionCode:t,targetUrl:n},'web_core_regionSelectOverride',l,i)}function i(e){var t=e.currentTarget,n=a(t);null===n?console.error('region-selector_dialog not found'):'block'===n.style.display?(n.style.display='none',t.setAttribute('aria-expanded','false')):(n.style.display='block',t.setAttribute('aria-expanded','true'))}function a(e){var t=e.closest('.region-selector'),n=null;return t&&(n=t.querySelector(m)),n}function s(t){var e=t.key,n=t.keyCode,i=t.currentTarget,s=a(i);if('Enter'===e||13===n||'Space'===e||32===n){t.preventDefault();var o=s.style.display;s.style.display='block'===o?'none':'block';var r=i.getAttribute('aria-expanded');i.setAttribute('aria-expanded','true'!==r)}else('Escape'===e||27===n)&&(s.style.display='none',i.focus(),i.setAttribute('aria-expanded','false'))}function o(t){var e=t.key,n=t.keyCode,i=t.currentTarget,s=a(i);('Escape'===e||27===n)&&(s.style.display='none',g.focus(),g.setAttribute('aria-expanded','false'))}function r(t){var e=t.currentTarget,n=t.relatedTarget;if(!e.contains(n)){var i=e.querySelector(m);if(null!==i){i.style.display='none';var a=document.querySelector(c),s=e.querySelector('.btn');e.contains(a)?e.setAttribute('aria-expanded','false'):null!==s&&s.setAttribute('aria-expanded','false')}}}function d(){var e=document.querySelector(m),n=document.querySelector('.header-right-content .region-selector_button');null!==e&&null!=n&&n.insertBefore(e.cloneNode(!0),null);var a=document.querySelector('.header-right-content .region-selector_dialog');null!==n&&null!==a&&(n.addEventListener('mouseover',function(){a.style.display='block'}),n.addEventListener('mouseleave',function(){a.style.display='none'})),u.forEach(function(e){e.addEventListener('click',i),e.addEventListener('keydown',s)}),p&&p.addEventListener('keydown',o),y.forEach(function(e){e.addEventListener('focusout',r)});var d=document.querySelector('.region-selection.region-selector .region-selector_button .region-selector_dialog');d&&d.addEventListener('keydown',function(t){('Enter'===t.key||13===t.keyCode||'Space'===t.key||32===t.keyCode)&&t.stopPropagation()},!1),t()}var l=1296000,c='.region-selection.region-selector .region-selector_button',g=document.querySelector('.region-selector_button .btn.btn-outline-primary'),p=document.querySelector('.bottomFooterNavigation .region-selector .region-selector_dialog'),u=document.querySelectorAll('.region-selector_button .btn.btn-outline-primary, '+c),m='.region-selector_dialog',y=document.querySelectorAll(c+', .bottomFooterNavigation .region-selector');document.addEventListener('DOMContentLoaded',function(){d()})})(e)}]);